---
title: è‡ªå®šä¹‰ç»„ä»¶å¼€å‘
---

## 1\. ç®€ä»‹

ä¸€ä¸ªå¯ç”¨äºæ­å»ºçš„ç»„ä»¶éœ€è¦å…·å¤‡çš„åŸºæœ¬èƒ½åŠ›ï¼š **ç»„ä»¶è¿è¡Œæ—¶ + å±æ€§é…ç½®èƒ½åŠ› + é€»è¾‘ç¼–æ’èƒ½åŠ›** ã€‚

![Alt text](img/image.png)

> åŸºäº MyBricks ç»„ä»¶å¼€å‘è§„èŒƒï¼Œå¯ä»¥å¼€å‘å‡ºå¼ºå¤§çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬ç¼–è¾‘ã€I/O é€šä¿¡ã€ç±»å‹ç³»ç»Ÿã€Slotsã€å¤šè¯­è¨€ã€æƒé™ã€åŸºäº Schema çš„çˆ¶å­ç»„ä»¶è”åŠ¨ï¼ˆè¡¨å•å®¹å™¨ç­‰åœºæ™¯ï¼‰ã€å“åº”å¼ç­‰å„ä¸ªæ–¹é¢

1.  æ”¯æŒè§†å›¾ç»„ä»¶ã€é€»è¾‘ç»„ä»¶ç­‰ç±»å‹ï¼Œè§†å›¾ç»„ä»¶æ”¯æŒ Vueã€Reactã€React Native ç­‰ä¸åŒæŠ€æœ¯æ ˆï¼›
2.  æ”¯æŒå¯ç»„åˆã€å¯æ‰©å±•ã€åŸºäºåŒºåŸŸçš„å£°æ˜å¼ç¼–è¾‘å™¨ï¼Œç¼–è¾‘å™¨ä¸­é™¤å¸¸è§„ç¼–è¾‘å™¨ä¹‹å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›é«˜çº§ç¼–è¾‘å™¨ï¼Œä¾‹å¦‚ä»£ç ç¼–è¾‘å™¨ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼ˆè¯¦è§é™„ä»¶ä¸­çš„å†…ç½®ç¼–è¾‘å™¨ç±»å‹æ¸…å•ï¼‰ï¼›
3.  å¸ƒå±€æ–¹é¢ï¼Œç»„ä»¶æ”¯æŒæµå¼ã€ç»å¯¹å®šä½ã€å›ºå®šå®šä½ï¼ŒåŸºäºç¯å¢ƒï¼ˆenv.canvasType æ‰‹æœºã€Padã€PC ç­‰ï¼‰çš„å“åº”å¼å¸ƒå±€ç­‰æ–¹å¼ï¼›
4.  æ”¯æŒå…·åæ’æ§½ï¼Œä½œç”¨åŸŸæ’æ§½ï¼ŒåŠ¨æ€æ’æ§½ç­‰ï¼Œæ’æ§½ä¸­çš„å¸ƒå±€å¯è‡ªå®šä¹‰ï¼Œå…·åæ’æ§½åº”ç”¨äºç»„ä»¶åŸºäºè§„åˆ™çš„ç»„åˆï¼Œä¾‹å¦‚å•†å“åˆ—è¡¨ä¸å•†å“å¡ç‰‡çš„ç»„åˆï¼Œä½œç”¨åŸŸæ’æ§½æä¾›äº† I/O ç¼–æ’èƒ½åŠ›ï¼›
5.  ç»„ä»¶æ”¯æŒ Inputs ä¸ Outputsï¼ˆç®€ç§° I/O ï¼‰ï¼ŒI/O åŸºäºæ•°æ®æµå›¾ï¼Œåœ¨æ¡†å›¾çš„æ‰©å±•ä¸‹å¯å®ç°å›¾çµå®Œå¤‡ï¼Œæ˜¯ç»„ä»¶åœ¨é€»è¾‘å±‚é¢è”åŠ¨çš„é‡è¦èƒ½åŠ›ï¼›
6.  å¯æ‰©å±• APIï¼Œé€šè¿‡åŸºäºåœºæ™¯çš„ env æ³¨å…¥æ–¹å¼å®ç°æ‰©å±•ï¼Œä¾‹å¦‚å¯ä»¥æ³¨å…¥åŸ‹ç‚¹ä¸ŠæŠ¥ã€jsbridge ç­‰èƒ½åŠ›ï¼›
7.  å¤šè¯­è¨€ã€æƒé™å£°æ˜å¼æ§åˆ¶ã€åŸ‹ç‚¹æ–¹æ¡ˆã€ä¸»é¢˜æ–¹æ¡ˆç­‰ï¼›
8.  AIGC æ”¯æŒç­‰ï¼›

## 2\. å¦‚ä½•åˆ›å»ºç¬¬ä¸€ä¸ªç»„ä»¶åº“

### 2.1 å®‰è£…å¼€å‘ç¯å¢ƒ

[https://marketplace.visualstudio.com/items?itemName=MyBricks.MyBricks](https://marketplace.visualstudio.com/items?itemName=MyBricks.MyBricks)

æˆ–åœ¨ vscode ä¸­é€šè¿‡ã€Œæ‰©å±•ã€åœ¨åº”ç”¨å•†åº—ä¸­æœç´¢æ‰©å±•ã€ŒMyBricksã€ï¼Œå®‰è£…è¯¥æ‰©å±•å³å¯

### 2.2 åˆå§‹åŒ–ç»„ä»¶åº“

ç‚¹å‡» VSCode ç•Œé¢å·¦ä¾§æ´»åŠ¨æ ä¸Šçš„ **ã€ŒMyBricks å›¾æ ‡ã€** ï¼Œæ–°å»ºä¸€ä¸ªç»„ä»¶åº“

![Alt text](img/image-1.png)

### 2.3 âš™ï¸ ç»„ä»¶åº“é…ç½®ã€é‡è¦å‹¿å¿˜ã€‘

é…ç½®æ ¹ç›®å½•ä¸‹çš„ mybricks.json æ–‡ä»¶ï¼Œä¸»è¦ä¿®æ”¹ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†

```JSON
{
  /* ç»„ä»¶å‘å¸ƒç›¸å…³ä¿¡æ¯ */
  "domain": "http://example.com",  // æ­¤å¤„ä¿®æ”¹ä¸ºå¯¹åº”çš„ MyBricks å¹³å°åœ°å€
  "userName": "xxx@gmail.com",  // æ­¤å¤„ä¿®æ”¹ä¸ºå¼€å‘è€…åœ¨å¹³å°æ³¨å†Œçš„è´¦å·ï¼Œå¯åœ¨å¹³å°å·¦ä¸‹è§’æŸ¥çœ‹å¹¶å¤åˆ¶

  /* æ˜¯å¦å¼€å¯ px åˆ° vw çš„è½¬æ¢ï¼Œç§»åŠ¨ç«¯H5ä½¿ç”¨ï¼ŒPCç«¯å‹¿å¼€å¯ */
  "pxToVw": {}, // æ·»åŠ è¯¥è¡Œå†…å®¹ï¼Œå³å¯å¼€å¯è½¬æ¢ï¼Œé»˜è®¤åŸºå‡†å€¼ä¸º 375px

  /* ç»„ä»¶åº“ä¿¡æ¯ */
  "componentType": "PC",      // ç»„ä»¶åº“ç±»å‹ï¼ŒPCè¯·å¡«å†™PCã€H5è¯·å¡«å†™H5
  "namespace": "test-normal-lib", // ç»„ä»¶åº“çš„å”¯ä¸€æ ‡è¯†ï¼Œå¿…å¡«ï¼ç±»æ¯”npmä¸­package.jsonçš„nameï¼Œä¿®æ”¹äº†å°±æ˜¯å¦ä¸€ä¸ªç»„ä»¶åº“äº†
	"comAry": [                 // ç»„ä»¶åº“åˆ—è¡¨é…ç½®
    "./src/button/com.json",  // ç»„ä»¶å…¥å£æ–‡ä»¶ç›¸å¯¹è·¯å¾„
    "./src/comA/com.json",
    "./src/comB/com.json"
  ],
  "tags": "vue" // å¦‚æœä½¿ç”¨vueç»„ä»¶å¼€å‘ï¼Œå¿…é¡»å¡«å†™vue
}
```

> å¦‚ä½•è·å– userNameï¼Ÿ

![Alt text](img/image-2.png)

### 2.4 å¯åŠ¨è°ƒè¯•ç¯å¢ƒ

å½“é¡¹ç›®ä¸‹æœ‰ \*.mybricks.json é…ç½®æ–‡ä»¶æ—¶ï¼Œå°±èƒ½å¤Ÿçœ‹åˆ° **MYBRICKS DEVELOP** é¢æ¿ï¼Œç‚¹å‡»è°ƒè¯•ï¼Œé€‰æ‹©éœ€è¦è°ƒè¯•çš„é…ç½®æ–‡ä»¶å³å¯

![Alt text](img/image-3.png)

ç‚¹å‡» **ã€Œè°ƒè¯•ã€** æŒ‰é’®ï¼Œç­‰å¾…ç¼–è¯‘å®Œæˆåä¼šæ‰“å¼€æµè§ˆå™¨ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å¼€å§‹å¼€å‘ç»„ä»¶äº†

![Alt text](img/image-4.png)

### 2.5 å‘å¸ƒç»„ä»¶åˆ°ç‰©æ–™ä¸­å¿ƒ

ä¸ **è°ƒè¯•** åŒç†ï¼Œç‚¹å‡» **ã€Œå‘å¸ƒã€** æŒ‰é’®ï¼Œé€‰æ‹©ç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼Œ **è¯·ç¡®ä¿ 2.3 çš„é…ç½®é…ç½®å®Œæˆ**

é€‰æ‹© **å‘å¸ƒè‡³ç‰©æ–™ä¸­å¿ƒé€‰é¡¹** ï¼Œç­‰å¾…ä¸Šä¼ å®Œæˆå³å¯

![Alt text](img/image-5.png)

### 2.6 ğŸ‰ ä½¿ç”¨ç»„ä»¶

æ‰“å¼€åº”ç”¨ï¼Œæ·»åŠ ç»„ä»¶åº“

![Alt text](img/image-6.png)

é€‰ä¸­åˆšåˆšå‘å¸ƒçš„ç»„ä»¶åº“å³å¯ç›´æ¥ä½¿ç”¨

![Alt text](img/image-7.png)

## 3\. å¦‚ä½•ä¸ºç»„ä»¶æ·»åŠ ç¼–è¾‘å™¨

æ‰“å¼€å‰é¢åˆå§‹åŒ–å¥½çš„ç»„ä»¶åº“ä»£ç ï¼Œè¿›å…¥ src/button ç›®å½•

æ‰“å¼€ editors.tsx æ–‡ä»¶

![Alt text](img/image-8.png)

ä¿®æ”¹ç»„ä»¶åˆå§‹åŒ–çš„é…ç½®

```Typescript
  //ä¿®æ”¹ç»„ä»¶åˆå§‹åŒ–æ—¶å€™çš„å®½é«˜
  '@init'({ style }) {
    style.width = 80;
    style.height = 50;
  },
	//é…ç½®ç»„ä»¶æ”¯æŒä¿®æ”¹çš„å±æ€§ï¼ˆå®½ã€é«˜ï¼‰
  '@resize': {
    options: ['width', 'height']
  },
```

å°†ç»„ä»¶çš„ä¸€äº›æ•°æ®å†™æ´»ï¼Œæ”¯æŒç”± MyBricks ç¼–è¾‘å™¨è¿›è¡Œä¿®æ”¹

```Typescript
  ':root': [
    {
       items: [
        {
          title: 'æ–‡å­—æ ‡é¢˜',
          type: 'text',
          value: {
            get({ data }) {
              return data.text;
            },
            set({ data }, value: string) {
              data.text = value;
            }
          }
        },
        {
          title: 'æ ·å¼',
          type: 'style',
          options: {
            defaultOpen: true,
            plugins: ['border', 'font']
          },
          value: {
            get: ({ data }) => {
              return data.style;
            },
            set: ({ data }, value) => {
              data.style = value;
            }
          }
        }
      ]
    }
   ]
```

![Alt text](img/image-9.png)

åœ¨ runtime.tsx ä¸­ä½¿ç”¨ data.text,å’Œç¼–è¾‘å™¨ä¿®æ”¹çš„ data.text è¿›è¡Œå…³è”

![Alt text](img/image-10.png)

![Alt text](img/image-11.png)

è‡³æ­¤æˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªæ‹¥æœ‰é…ç½®èƒ½åŠ›çš„ç»„ä»¶å¼€å‘ã€‚

## 4\. æ·±å…¥ç»„ä»¶

ç»„ä»¶åˆ†ä¸º **UI ç»„ä»¶** å’Œ **é€»è¾‘ç»„ä»¶** ä¸¤ç§ç±»å‹ï¼Œå…¶ä¸­ UI ç»„ä»¶æ”¯æŒå¤šç§æ¡†æ¶ï¼Œæ¯”å¦‚ **Vueã€Reactã€Taro æˆ–å…¶ä»–è‡ªå®šä¹‰ç‰ˆæœ¬** ç­‰ã€‚

![Alt text](img/image-12.png)

### 4.1 ä¸åŒæ¡†æ¶çš„ç»„ä»¶è¿è¡Œæ—¶åŒºåˆ«

æ¸²æŸ“å™¨ä¼šé€šè¿‡ props ä¸ºç»„ä»¶æä¾›å¢å¼ºèƒ½åŠ›ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº id, title, data, inputs, outputs, slots, envã€‚æˆ‘ä»¬çœ‹åˆ° Vue å’Œ React ç»„ä»¶ç•¥æœ‰ä¸€ä¸ªå·®åˆ«å°±æ˜¯ Vue ç»„ä»¶ä¸­æƒ³è¦è·å–è¿™äº›èƒ½åŠ›æ¯” React ç»„ä»¶å¤šäº†ä¸€å±‚ mï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä¸ºäº†é¿å… this.data å’Œ Vue çš„ data åœ¨ä¹¦å†™çš„æ—¶å€™å¼•èµ·æ­§ä¹‰ã€‚

Vue ç»„ä»¶ã€React ç»„ä»¶æˆ–å…¶ä»–æŠ€æœ¯æ ˆç»„ä»¶å”¯ä¸€çš„ä¸åŒç‚¹åœ¨äºè¿è¡Œæ—¶æ–‡ä»¶çš„å®ç°ï¼Œä¾‹å¦‚ runtime.vueã€runtime.tsxã€‚

Vue

```Typescript
{
  ...,
  "runtime": "./runtime.vue", // å¦‚æœæ˜¯ vue ç»„ä»¶ï¼Œruntime æ‰€å¼•ç”¨çš„æ–‡ä»¶è·¯å¾„éœ€è¦ä¸º .vue æ–‡ä»¶
  ...
}
```

```Typescript
<template>
  <div class="button">{{ m.data.text }}</div>
</template>

<script>
export default {
  props: ["m"],
}
</script>
```

React

```Typescript
{
  ...,
  "runtime": "./runtime.tsx", // å¦‚æœæ˜¯ react ç»„ä»¶ï¼Œruntime æ‰€å¼•ç”¨çš„æ–‡ä»¶è·¯å¾„éœ€è¦ä¸º .tsx æ–‡ä»¶
  ...
}
```

```Typescript
import React from "react";

export default function ({id, title, data, inputs, outputs, slots, env}) {
  return (
    <div className="button">{data.text}</div>
  );
}
```

### 4.2 ç¼–è¾‘å™¨

ç¼–è¾‘å™¨å¯å¯¹ç»„ä»¶è¿›è¡Œç¼–è¾‘ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºé…ç½®ç»„ä»¶çš„æ­å»ºæ—¶ç”Ÿå‘½å‘¨æœŸï¼›ä¿®æ”¹ç»„ä»¶ Prop ä¸­çš„ data å±æ€§å€¼ï¼›æ³¨å…¥ç»„ä»¶æ ·å¼ç­‰ã€‚

ç¼–è¾‘å™¨ä»£ç åœ¨ç»„ä»¶è¿è¡Œæ—¶ä¼šè¢«å¿½ç•¥ï¼Œä»…åœ¨æ­å»ºæ—¶ä¼šè¢«å¼•ç”¨ã€‚

![Alt text](img/image-13.png)

å›¾ä¾‹ï¼šç¼–è¾‘å™¨ä¸ºå³ä¾§ç»¿æ¡†åŒºåŸŸ

ç¼–è¾‘å™¨çš„ç”Ÿæ•ˆé¦–å…ˆéœ€è¦åœ¨ com.json ä¸­å£°æ˜ã€‚ä¾‹ï¼š

```Typescript
{
  ...,
  "editros": "./myEditors.tsx",
  ...
}
```

#### æ­å»ºæ—¶ç”Ÿå‘½å‘¨æœŸ

| **åŠŸèƒ½æè¿°** | **ç¤ºä¾‹ä»£ç ** |
| ---------------------------------- | ---------------------------------- |
| @init ç»„ä»¶åœ¨æ‹–å…¥ç”»å¸ƒçš„æ—¶å€™è§¦å‘å‡½æ•° | <pre><code>export default {<br>  '@init'({ data, style, input, output, slot }){<br>    style.width = "100%";<br>    style.height = 60;<br>  },<br>  ...<br>}</code></pre> |
| @resize å£°æ˜ç»„ä»¶æ”¯æŒè°ƒæ•´å®½ã€é«˜     | <pre><code>export default {<br>  '@resize': {<br>    options: ['width', 'height']<br>  },<br>  ...<br>}</code></pre> |

#### åŒºåŸŸé€‰æ‹©èƒ½åŠ›

æˆ‘ä»¬é€šè¿‡ä¸‹æ–¹çš„åŠ¨å›¾å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç»„ä»¶åœ¨è¢«æ‹–å…¥ç”»å¸ƒä¹‹åï¼Œåœ¨ç‚¹å‡»ç»„ä»¶çš„ä¸åŒåŒºåŸŸæ—¶ï¼Œç¼–è¾‘å™¨åŒºåŸŸæ‰€æ¸²æŸ“çš„ç¼–è¾‘é¡¹ä¼šæœ‰æ‰€å˜åŒ–ï¼Œè¯¥ç‰¹æ€§æœ‰åŠ©äºå°†ç»„ä»¶å¤æ‚çš„ç¼–è¾‘é¡¹è¿›è¡Œæ‹†åˆ†ï¼Œåœ¨ç‚¹å‡»æŸåŒºåŸŸæ—¶ï¼Œæ‰ä¼šæ¸²æŸ“å¯¹åº”åŒºåŸŸçš„ç¼–è¾‘é¡¹ã€‚

![](img/out.gif)

ä»£ç ç¤ºä¾‹ï¼š

```TypeScript
export default {
  ...,
  // é€šè¿‡ css selecotr æ¥å£°æ˜åŒºåŸŸå³å¯
  ":root": {
    items: [...å…¨å±€ç›¸å…³ç¼–è¾‘é¡¹å£°æ˜]
  },
  ".demo-a": {
    title: "demo A",
    items: [...Aç›¸å…³ç¼–è¾‘é¡¹å£°æ˜]
  },
  ".demo-b": {
    title: "demo B",
    items: [...Bç›¸å…³ç¼–è¾‘é¡¹å£°æ˜]
  },
};
```

#### ç¼–è¾‘é¡¹è”åŠ¨

æˆ‘ä»¬é€šè¿‡ä¸‹æ–¹çš„åŠ¨å›¾å¯ä»¥çœ‹åˆ°ç¼–è¾‘é¡¹çš„æ¸²æŸ“å¯ä»¥å­˜åœ¨è”åŠ¨ã€‚

![](img/out1.gif)

ä»£ç ç¤ºä¾‹ï¼š

```TypeScript
export default {
  ":root": {
    items: [
      {
        title: "ä½¿ç”¨è‡ªå®šä¹‰æ–‡æœ¬",
        type: "switch",
        value: {
          get({ data }) {
            return data.useCustomText;
          },
          set({ data }, value) {
            data.useCustomText = value;
          },
        },
      },
      {
        ifVisible({ data }) {
          return data.useCustomText;
        },
        title: "è‡ªå®šä¹‰æ–‡æœ¬",
        type: "textinput",
        value: {
          get({ data }) {
            return data.customText;
          },
          set({ data }, value) {
            data.customText = value;
          },
        },
      },
    ],
  },
};
```

#### å¼€å‘è‡ªå®šä¹‰ç¼–è¾‘é¡¹

å¼•æ“å†…ç½®äº†å¤šç§ç¼–è¾‘å™¨ç±»å‹ï¼Œè¯¦è§é™„å½•**é¢„ç½®ç¼–è¾‘å™¨åˆ—è¡¨**ï¼Œå¦‚æœé¢„ç½®ç¼–è¾‘å™¨æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•è‡ªå®šä¹‰ç¼–è¾‘å™¨æ¥å®ç°ä¸ªæ€§åŒ–éœ€æ±‚ã€‚

```TypeScript
export default {
  ...
  {
    title: "è‡ªå®šä¹‰ç¼–è¾‘é¡¹",
    type: "editorRender", //è‡ªå®šä¹‰ç¼–è¾‘å™¨
    options: {
      render: ({ editConfig }) => {
        return (<div onClick={() => {
					//è®¾ç½®æ•°æ®
          editConfig.value.set("new value");
        }}>å½“å‰æ•°æ®ï¼š{ editConfig.value.get() }</div>);
      }
    },
    value: {
      get({data}){
        return data.text;
      },
      set({data}, value){
        data.text = value;
      }
    }
  }
  ...
}
```

#### æ ·å¼æ³¨å…¥

æœ‰ä¸¤ç§æ–¹å¼æ³¨å…¥æ ·å¼ï¼Œç¬¬ä¸€ç§å°±æ˜¯åŸºäºé€šç”¨çš„ style ç¼–è¾‘å™¨ç±»å‹æ¥é…ç½®ç»„ä»¶ prop ä¸­çš„ data å€¼ï¼Œç¬¬äºŒç§å¯ä»¥æ›´åŠ ä¾¿æ·ï¼Œåªéœ€è¦æ·»åŠ é…ç½®é¡¹ï¼Œæ— éœ€å…³æ³¨æ¸²æŸ“é€»è¾‘ã€‚

```TypeScript
export default {
  ...
  ":root": {
    style: [
      title: "æ ‡é¢˜",
      options: ["border", "background"], //æ”¯æŒå“ªäº› css é…ç½®
      target: ".demo" //ä½œç”¨åˆ°å“ªä¸ª css selector
    ]
  }
  ...
}
```

options æ”¯æŒçš„å€¼æœ‰ï¼šfontã€paddingã€marginã€sizeã€borderã€backgroundã€shadow ç­‰ã€‚

### 4.3 æ’æ§½

#### åŸºç¡€æ’æ§½

æœ€å¸¸è§çš„æ’æ§½ï¼Œå¯ä»¥ç†è§£ä¸ºå…·åæ’æ§½ï¼Œå®ƒå…è®¸æ‚¨åœ¨ç»„ä»¶çš„ **ä»»æ„ä½ç½®é¢„ç•™å‘ä½** ï¼Œåœ¨æ­å»ºæ—¶å¯ä»¥æ‹–å…¥ä»»æ„ç»„ä»¶

![Alt text](img/image-14.png)

**Step1:** åœ¨ com.json æ–‡ä»¶å£°æ˜æ’æ§½çš„ä¿¡æ¯

```Typescript
{
  "title": "demo",
  "namespace": "xxx",
  ...
  "slots": [
    {
      "id": "content1", // å£°æ˜æ’æ§½çš„IDï¼Œå¾…ä¼šruntimeä¼šç”¨åˆ°
      "title": "æ’æ§½1" // å£°æ˜æ’æ§½çš„åç§°ï¼Œæ­å»ºæ—¶ä¼šå±•ç¤ºå‡ºæ¥
    },
    {
      "id": "content2",
      "title": "æ’æ§½2"
    }
  ]
}
```

**Step2:** åœ¨ runtime ä¸­ä½¿ç”¨ slot

```Typescript
<template>
  <div class="layout">
    <div class="text">æˆ‘æ˜¯ç»„ä»¶çš„title</div>
    <div class="body">
      <div>
        <slot name="content1" />
      </div>
      <div>
        <slot name="content2" />
      </div>
    </div>
    <div class="text">æˆ‘æ˜¯ç»„ä»¶çš„footer</div>
  </div>
</template>
```

### 4.4 ç»„ä»¶é—´é€šä¿¡

æ–½å·¥ä¸­...

## 5\. Github ç»„ä»¶/ç¼–è¾‘åº“ èµ„æº

[PC åŸºç¡€ç»„ä»¶åº“](https://github.com/mybricks/comlib-basic)

[PC é€šç”¨ç»„ä»¶åº“](https://github.com/mybricks/comlib-pc-normal)

[H5 é€šç”¨ç»„ä»¶åº“ï¼ˆVue ç‰ˆï¼‰](https://github.com/mybricks/comlib-h5-normal-vue/tree/main)

[é€šç”¨ç¼–è¾‘åº“](https://github.com/mybricks/editors-pc-common)

## é™„å½•

### ç›®å½•ç»“æ„

```JSON
my-comlibs/
â”œâ”€â”€ package.json      //åŸºç¡€ä¿¡æ¯
â”œâ”€â”€ mybricks.json
â”œâ”€â”€ dev.mybricks.json //*.mybricks.json æ–‡ä»¶ï¼Œç”¨äºä¸åŒç¯å¢ƒã€ä¸åŒé˜¶æ®µçš„å‘å¸ƒ
â”œâ”€â”€ ...
â””â”€â”€ src/
    â”œâ”€â”€ button/
    â”‚   â”œâ”€â”€ com.json //ç»„ä»¶å£°æ˜æ–‡ä»¶
    â”‚   â””â”€â”€ runtime.tsx //react ç»„ä»¶è¿è¡Œæ—¶
    â”œâ”€â”€ text/
    â”‚   â”œâ”€â”€ com.json //ç»„ä»¶å£°æ˜æ–‡ä»¶
    â”‚   â””â”€â”€ runtime.vue //vue ç»„ä»¶è¿è¡Œæ—¶
    â”œâ”€â”€ comB/
    â”œâ”€â”€ comC/
    â””â”€â”€ ...
```

### ç»„ä»¶åº“é…ç½®æ–‡ä»¶ mybricks.json

```JSON
{
  /* ç»„ä»¶å‘å¸ƒç›¸å…³ä¿¡æ¯ */
  "domain": "http://example.com",  // æ­¤å¤„ä¿®æ”¹ä¸ºå¯¹åº”çš„ MyBricks apaas å¹³å°åœ°å€
  "userName": "xxx@gmail.com",  // æ­¤å¤„ä¿®æ”¹ä¸ºå¼€å‘è€…åœ¨å¹³å°æ³¨å†Œçš„è´¦å·ï¼Œå¯åœ¨å¹³å°å·¦ä¸‹è§’æŸ¥çœ‹å¹¶å¤åˆ¶

  /* æ˜¯å¦å¼€å¯ px åˆ° vw çš„è½¬æ¢ï¼Œç§»åŠ¨ç«¯H5ä½¿ç”¨ï¼ŒPCç«¯å‹¿å¼€å¯ */
  "pxToVw": {}, // æ·»åŠ è¯¥è¡Œå†…å®¹ï¼Œå³å¯å¼€å¯è½¬æ¢ï¼Œé»˜è®¤åŸºå‡†å€¼ä¸º 375px

  /* ç»„ä»¶åº“ä¿¡æ¯ */
  "componentType": "PC",      // ç»„ä»¶åº“ç±»å‹ï¼ŒPCè¯·å¡«å†™PCã€H5è¯·å¡«å†™H5
  "namespace": "test-normal-lib", // ç»„ä»¶åº“çš„å”¯ä¸€æ ‡è¯†ï¼Œå¿…å¡«ï¼ç±»æ¯”npmä¸­package.jsonçš„nameï¼Œä¿®æ”¹äº†å°±æ˜¯å¦ä¸€ä¸ªç»„ä»¶åº“äº†
	"comAry": [                 // ç»„ä»¶åº“åˆ—è¡¨é…ç½®
    "./src/button/com.json",  // ç»„ä»¶å…¥å£æ–‡ä»¶ç›¸å¯¹è·¯å¾„
    "./src/comA/com.json",
    "./src/comB/com.json"
  ],
  "tags": "vue" // å¦‚æœä½¿ç”¨vueç»„ä»¶å¼€å‘ï¼Œå¿…é¡»å¡«å†™vue
}
```

### ç»„ä»¶å£°æ˜æ–‡ä»¶è¯´æ˜

| å±æ€§        | è¯´æ˜                                         | ç±»å‹                                                              | å¿…é¡» | é»˜è®¤å€¼      |
| ----------- | -------------------------------------------- | ----------------------------------------------------------------- | ---- | ----------- |
| title       | æ ‡é¢˜                                         | string                                                            | Y    | \-          |
| namespace   | å…¨å±€å‘½åç©ºé—´ï¼Œç»„ä»¶çš„å”¯ä¸€æ ‡è¯†                 | stringï¼ˆå¯ç”¨ - \_ . ä½œä¸ºåˆ†éš”ï¼Œå¦‚ mycompany.bu.nameï¼‰              | Y    | \-          |
| author      | ä½œè€… ID                                      | string                                                            | Y    | 'anonymous' |
| author_name | ä½œè€…                                         | string                                                            | N    | 'åŒ¿åä½œè€…'  |
| version     | ç‰ˆæœ¬å·ï¼ˆ MyBricks å¯¹äºç»„ä»¶æœ‰ä¸¥æ ¼çš„ç‰ˆæœ¬æ§åˆ¶ï¼‰ | VersionType(ä¾‹:1.0.0)                                             | Y    | \-          |
| icon        | å›¾æ ‡è·¯å¾„æˆ–åœ°å€                               | path(ä¾‹:./icon.svg) æˆ– URL                                        | Y    | é»˜è®¤å›¾æ ‡    |
| runtime     | è¿è¡Œæ—¶                                       | path(ä¾‹:./NormalButton.tsx)                                       | Y    | \-          |
| editors     | ç¼–è¾‘é¡¹                                       | path(ä¾‹:./editors.tsx)                                            | N    | \-          |
| data        | model æ•°æ®æè¿°ï¼ˆç”¨äºç»„ä»¶ä½œä¸ºé¢„è§ˆåŠå…¶ä»–ç”¨é€”ï¼‰ | path(ä¾‹:./data.json)                                              | N    | \-          |
| inputs      | è¾“å…¥é¡¹æ•°ç»„                                   | {id:stringï¼ˆå½“å‰ç»„ä»¶å”¯ä¸€ï¼‰, title:string, schema?:JSONSchema}\[\] | N    | \-          |
| outputs     | è¾“å‡ºé¡¹æ•°ç»„                                   | {id:stringï¼ˆå½“å‰ç»„ä»¶å”¯ä¸€ï¼‰, title:string, schema?:JSONSchema}\[\] | N    | \-          |
| slots       | æ’æ§½æ•°ç»„                                     | {id:stringï¼ˆå½“å‰ç»„ä»¶å”¯ä¸€ï¼‰, title:string, scoped?:boolean}\[\]    | N    | \-          |
| description | ç»„ä»¶æè¿°ä¿¡æ¯                                 | string                                                            | N    | \-          |

### é¢„ç½®ï¼ˆéšå¼•æ“æ­è½½ï¼‰ç¼–è¾‘å™¨åˆ—è¡¨

| **æ ‡é¢˜** | **ä»£ç ç¤ºä¾‹** | **å›¾ä¾‹** |
| ---- | ---- | ---- |
| æŒ‰é’®ï¼ˆbuttonï¼‰            | <pre><code>{<br>  title: "demo",<br>  type: "button",<br>  value: {<br>    set({ data }) {<br>      // æ— éœ€è¿”å›å€¼<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-17.png) |
| æ–‡æœ¬ï¼ˆtextinputï¼‰         | <pre><code>{<br>  title: "demo",<br>  type: "textinput",<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  }<br>};</code></pre> | ![Alt text](img/image-18.png) |
| æ–‡æœ¬åŸŸï¼ˆtextareaï¼‰        | <pre><code>{<br>  title: "demo",<br>  type: "TEXTAREA",<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-19.png)  |
| æ•°å­—æ¡†ï¼ˆinputnumberï¼‰     | <pre><code>{<br>  title: "demo",<br>  type: "inputnumber",<br>  options: [<br>    { title: "å®½", width: 100 },<br>    { title: "é«˜", width: 100 },<br>  ],<br>  value: {<br>    get({ data }) {<br>      return [data.mysetting1, <br>              data.mysetting2];<br>    },<br>    set({ data }, value) {<br>      [data.mysetting1, <br>       data.mysetting2] = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-20.png)  |
| å¯Œæ–‡æœ¬ï¼ˆrichtextï¼‰        | <pre><code>{<br>  title: "demo",<br>  type: "richtext",<br>  options: {<br>    type: "h5",<br>  },<br>  value: {<br>    get({ data }) {<br>      return decodeURIComponent(<br>        data.mysetting);<br>    },<br>    set({ data }, value) {<br>      data.mysetting = <br>        encodeURIComponent(value);<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-21.png)  |
| å›¾ç‰‡é€‰æ‹©ï¼ˆimageselectorï¼‰ | <pre><code>{<br>  title: "demo",<br>  type: "IMAGESELECTOR",<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-22.png)  |
| å•é€‰ï¼ˆradioï¼‰             | <pre><code>{<br>  title: "demo",<br>  type: "radio",<br>  options: [<br>    { label: "é€‰é¡¹1", value: "1" },<br>    { label: "é€‰é¡¹2", value: "2" },<br>    { label: "é€‰é¡¹3", value: "3" },<br>  ],<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-23.png)  |
| ä¸‹æ‹‰æ¡†ï¼ˆselectï¼‰          | <pre><code>{<br>  title: "demo",<br>  type: "SELECT",<br>  options: [<br>    { label: "é€‰é¡¹ä¸€", value: "1" },<br>    { label: "é€‰é¡¹äºŒ", value: "2" },<br>    { label: "é€‰é¡¹ä¸‰", value: "3" },<br>  ],<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-24.png)  |
| å¼€å…³ï¼ˆswitchï¼‰            | <pre><code>{<br>  title: "demo",<br>  type: "switch",<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-25.png)  |
| æ»‘å—ï¼ˆsliderï¼‰            | <pre><code>{<br>  title: "demo",<br>  type: "slider",<br>  options: {<br>    max: 24,<br>    min: 1,<br>    steps: 1,<br>  },<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting1 = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-26.png)    |
| å¯¹è±¡ç¼–è¾‘å™¨ï¼ˆmapï¼‰         | <pre><code>{<br>  title: "demo",<br>  type: "MAP",<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>}</code></pre> | ![Alt text](img/image-27.png)  |
| æ•°ç»„ç¼–è¾‘å™¨ï¼ˆarrayï¼‰       | <pre><code>{<br>  title: "demo",<br>  type: "ARRAY",<br>  options: {<br>    // è‡ªå®šä¹‰æ ‡é¢˜æ¸²æŸ“<br>    getTitle(item, index) {<br>      return (<br>        <div style={{color: "red"}}><br>        æ ‡é¢˜ï¼š{index}<br>        </div><br>      );<br>    },<br>    // æ·»åŠ ä¸€é¡¹æ—¶çš„é»˜è®¤å€¼<br>    onAdd() {<br>      return {<br>        key1: "key1é»˜è®¤å€¼",<br>        key2: "key2é»˜è®¤å€¼",<br>      };<br>    },<br>    // æ•°ç»„é¡¹<br>    items: [<br>      {<br>        title: "æ ‡é¢˜1",<br>        type: "text", // ç¼–è¾‘å™¨ç±»å‹<br>        value: "key1",// å¯¹è±¡çš„ key<br>      },<br>      {<br>        title: "æ ‡é¢˜2",<br>        type: "textarea",<br>        value: "key2",<br>      },<br>    ],<br>  },<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>}</code></pre> | ![Alt text](img/image-28.png)  |
| ä»£ç ç¼–è¾‘å™¨ï¼ˆcodeï¼‰        | <pre><code>{<br>  title: "demo",<br>  type: "CODE",<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-29.png)  |
| é¢œè‰²é€‰æ‹©å™¨ï¼ˆcolorpickerï¼‰ | <pre><code>{<br>  title: "demo",<br>  type: "colorpicker",<br>  value: {<br>    get({ data }) {<br>      return data.mysetting;<br>    },<br>    set({ data }, value) {<br>      data.mysetting = value;<br>    },<br>  },<br>};</code></pre> | ![Alt text](img/image-16.png) |
| äº‹ä»¶ï¼ˆ\_eventï¼‰           | <pre><code>{<br>  title: "demo",<br>  type: "_event",<br>  options: {<br>    outputId: "myOutputId",<br>  },<br>};</code></pre> | ![Alt text](img/image-30.png) |


### å¤šç«¯æ¸²æŸ“

![Alt text](img/image-15.png)